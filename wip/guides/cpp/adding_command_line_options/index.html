<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Adding Command Line Options</title>
  <meta name="description" content="Adding Command Line Options">

  <!-- OpenGraph for Facebook, Twitter, Slack unfurling -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/guides/cpp/adding_command_line_options/" />
  <meta property="og:title" content="Adding Command Line Options" />
  <meta property="og:description" content="This guide discusses how to add a different type of command line options to a custom command." />
  <meta property=”og:site_name” content="developer.rhino3d.com"/>
  <meta property=”og:image” content="/wip/images/rhinodevlogo_trans.png"/>

  <!-- twitter card tags additive with the og: tags -->
  <meta name="twitter:domain" value="developer.rhino3d.com" />
  <meta name="twitter:title" value="Adding Command Line Options" />
  <meta name="twitter:description" value="This guide discusses how to add a different type of command line options to a custom command." />
  <meta name="twitter:image" content="/wip/images/rhinodevlogo_trans.png" />
  <meta name="twitter:url" value="http://developer.rhino3d.com" />
  
  <meta name="twitter:label1" value="Supported Platform(s)" />
  <meta name="twitter:data1" value="Windows " />
  
  
  <meta name="twitter:label2" value="Language(s)" />
  <meta name="twitter:data2" value="C/C++ " />
  

  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/github.min.css">
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/languages/vbnet.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <!-- Overridden theme -->
  <link rel="stylesheet" href="/wip/css/main.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
  <!-- Bootstrap override -->
  <link rel="stylesheet" href="/wip/css/bootstrap-override.css">

  <link rel="canonical" href="http://developer.rhino3d.com/wip/guides/cpp/adding_command_line_options/">
  <link rel="alternate" type="application/rss+xml" title="Rhino Developer Docs" href="http://developer.rhino3d.com/wip/feed.xml" />

  <link rel="shortcut icon" href="http://developer.rhino3d.com/favicon.ico?v=2" />
  <!-- Saving bookmarks to mobile devices -->
  <!-- For non-Retina (@1× display) iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="/wip/images/apple-touch-icon-precomposed.png"><!-- 57×57px -->
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/wip/images/apple-touch-icon-72x72-precomposed.png">
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/wip/images/apple-touch-icon-76x76-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/wip/images/apple-touch-icon-114x114-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/wip/images/apple-touch-icon-120x120-precomposed.png">
  <!-- For iPad with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/wip/images/apple-touch-icon-144x144-precomposed.png">
  <!-- For iPad with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/wip/images/apple-touch-icon-152x152-precomposed.png">
  <!-- For iPhone 6 Plus with @3× display: -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/wip/images/apple-touch-icon-180x180-precomposed.png">
  <!-- For Chrome for Android: -->
  <link rel="icon" sizes="192x192" href="images/touch-icon-192x192.png">

  <!-- Diable crawling until this version is the stable version -->
  <meta name="robots" content="noindex" />
</head>


  <body>

    <!-- Google Tag Manager **This belongs right after the <body> tag**-->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MWMDKN"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MWMDKN');
    </script>
    <!-- End Google Tag Manager -->


    
<div class="version-banner">
    Hey, you're viewing the <strong>wip</strong> version of this page!
    <a href="/guides/cpp/adding_command_line_options/">View the current version instead.</a>
</div>



    <div class="container">

      <header class="site-header">


    <a class="site-title" href="/wip/"><img src="/wip/images/rhinodevlogo148x128.png" alt="Rhino Developer Docs" height="48" width="56"></a><a class="site-title" href="/wip/">Rhino Developer Docs</a>

    <nav class="site-nav">
      <img class="menu-icon" src="/wip/images/gi.svg">
      
      <div class="trigger">
      	<!--<a class="page-link" href="/wip/">Welcome</a>-->
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
        
          
            
              
                <a class="page-link" href="/wip/guides/">Guides</a>
              
            
          
        
          
            
              
                <a class="page-link" href="/wip/api/">API</a>
              
            
          
        
          
            
              
                <a class="page-link" href="/wip/samples/">Samples</a>
              
            
          
        
          
            
          
        
        <a class="page-link" href="http://discourse.mcneel.com/c/rhino-developer">Forums</a>
        <!-- Google Search Engine -->
        <!-- TODO Move to this site back into the Mcneel search, or use a simple site only search for results -->
        <div id="sitesearch">
            <!-- Google CSE Search Box Begins  -->
            <!-- Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
            <!-- The terms of service are available at https://www.google.com/cse/docs/tos.html -->
            <form id="cref" action="/wip/search-results.html">
                <input type="hidden" name="cref" value="007988927381198593803:mcq6pshqsn8" />
                <input id="searchtext" type="text" name="q" size="24" value="" placeholder="search" />
                <input class="searchBox" type="submit" name="sa" size="2" value=" " />
            </form>
        <!-- Google CSE Search Box Ends -->
        </div>
        <!--End of Google Search Engine -->
      </div>
    </nav>

</header>


      <div class="page-content">
        <!--div class="wrapper"-->
          <div class="container-fluid">

<div class="row-fluid">
    <!--Nav Bar -->
    <nav class="col-xs-0 col-md-3 bs-docs-sidebar">
        <ul id="sidebar" class="nav nav-stacked fixed">

          <li>
            <a href="/wip/guides/">Guides</a>

            <ul class="nav nav-stacked">

              <li>

                
                  <a href="/wip/guides/#cpp">C/C++</a>
                
                <ul class="nav nav-stacked">

                  <!-- Find the h1 handle for title -->
                  
                  
                  
                  
                  
                  
                  
                  <li>
                    <a href="#adding-command-line-options">Adding Command Line Options</a>

                    <ul class="nav nav-stacked">

                      <!-- Find the h2 group and any h3 subgroups -->
                      

                      
                        
                        
                        
                        
                        
                        <li>
                          <a href="#overview">Overview</a>

                          

                        </li>
                      
                        
                        
                        
                        
                        
                        <li>
                          <a href="#sample">Sample</a>

                          

                        </li>
                      

                    </ul>

                  </li>

                </ul>

              </li>

            </ul>

          </li>

        </ul>
    </nav>
    <!--Main Content -->
    <div class="col-xs-12 col-md-9">
      <!--<div class="post">-->

        <article class="post-content">
          <h1 id="adding-command-line-options">Adding Command Line Options</h1>

<p>This guide discusses how to add a different type of command line options to a custom command.</p>

<h2 id="overview">Overview</h2>

<p>The Rhino C/C++ SDK has a number of CRhinoGet derived classes that you can use to interactively get information from the user.  Some of these classes include:</p>

<ul>
  <li><code class="highlighter-rouge">CRhinoGetObject</code>: SDK user interface tool used to get objects.</li>
  <li><code class="highlighter-rouge">CRhinoGetPoint</code>:  SDK user interface tool used to get points.</li>
  <li><code class="highlighter-rouge">CRhinoGetString</code>: SDK user interface tool used to get strings.</li>
  <li><code class="highlighter-rouge">CRhinoGetNumber</code>: SDK user interface tool used to get floating point values.</li>
  <li><code class="highlighter-rouge">CRhinoGetInteger</code>: SDK user interface tool used to get integer values.</li>
  <li><code class="highlighter-rouge">CRhinoGetAngle</code>: SDK user interface tool used to get angles.</li>
  <li><code class="highlighter-rouge">CRhinoGetDistance</code>: SDK user interface tool used to get distances.</li>
  <li><code class="highlighter-rouge">CRhinoGetOption</code>: SDK user interface tool used to get command line options.</li>
</ul>

<p>Each <code class="highlighter-rouge">CRhinoGet</code> derived classes can, in addition to its primary function, prompt the user for additional options.  These options display on the command following the developer specified prompt, and appear as clickable hyperlinks.</p>

<h2 id="sample">Sample</h2>

<p>The following example code demonstrates how to add command line options to some user interaction.  In this example, we use the <code class="highlighter-rouge">CRhinoGetOption</code> class, which is only capable of displaying command line options.  But, we could have used any of the above <code class="highlighter-rouge">CRhinoGet</code> derived classes.</p>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="n">CRhinoCommand</span><span class="o">::</span><span class="n">result</span> <span class="n">CCommandTestOptions</span><span class="o">::</span><span class="n">RunCommand</span><span class="p">(</span><span class="k">const</span> <span class="n">CRhinoCommandContext</span><span class="o">&amp;</span> <span class="n">context</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">CRhinoCommandOptionValue</span> <span class="n">list_items</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
  <span class="n">list_items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">RHCMDOPTVALUE</span><span class="p">(</span><span class="s">L"Item0"</span><span class="p">);</span>
  <span class="n">list_items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">RHCMDOPTVALUE</span><span class="p">(</span><span class="s">L"Item1"</span><span class="p">);</span>
  <span class="n">list_items</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">RHCMDOPTVALUE</span><span class="p">(</span><span class="s">L"Item2"</span><span class="p">);</span>
  <span class="n">list_items</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">RHCMDOPTVALUE</span><span class="p">(</span><span class="s">L"Item3"</span><span class="p">);</span>
  <span class="n">list_items</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">RHCMDOPTVALUE</span><span class="p">(</span><span class="s">L"Item4"</span><span class="p">);</span>

  <span class="n">CRhinoGetOption</span> <span class="n">go</span><span class="p">;</span>
  <span class="n">go</span><span class="p">.</span><span class="n">SetCommandPrompt</span><span class="p">(</span> <span class="s">L"Command options"</span> <span class="p">);</span>
  <span class="n">go</span><span class="p">.</span><span class="n">AcceptNothing</span><span class="p">();</span>

  <span class="k">for</span><span class="p">(;;)</span>
  <span class="p">{</span>
    <span class="n">go</span><span class="p">.</span><span class="n">ClearCommandOptions</span><span class="p">();</span>

    <span class="kt">int</span> <span class="n">nval_option_index</span> <span class="o">=</span> <span class="n">go</span><span class="p">.</span><span class="n">AddCommandOptionInteger</span><span class="p">(</span>
        <span class="n">RHCMDOPTNAME</span><span class="p">(</span><span class="s">L"Integer"</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">m_nVal</span><span class="p">,</span> <span class="s">L"integer value"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">99</span> <span class="p">);</span>
    <span class="kt">int</span> <span class="n">dval_option_index</span> <span class="o">=</span> <span class="n">go</span><span class="p">.</span><span class="n">AddCommandOptionNumber</span><span class="p">(</span>
        <span class="n">RHCMDOPTNAME</span><span class="p">(</span><span class="s">L"Double"</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">m_dVal</span><span class="p">,</span> <span class="s">L"double value"</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">99.9</span> <span class="p">);</span>
    <span class="kt">int</span> <span class="n">bval_option_index</span> <span class="o">=</span> <span class="n">go</span><span class="p">.</span><span class="n">AddCommandOptionToggle</span><span class="p">(</span>
        <span class="n">RHCMDOPTNAME</span><span class="p">(</span><span class="s">L"Boolean"</span><span class="p">),</span> <span class="n">RHCMDOPTVALUE</span><span class="p">(</span><span class="s">L"False"</span><span class="p">),</span> <span class="n">RHCMDOPTVALUE</span><span class="p">(</span><span class="s">L"True"</span><span class="p">),</span>
        <span class="n">m_bVal</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">m_bVal</span> <span class="p">);</span>
    <span class="kt">int</span> <span class="n">list_option_index</span> <span class="o">=</span> <span class="n">go</span><span class="p">.</span><span class="n">AddCommandOptionList</span><span class="p">(</span> <span class="n">RHCMDOPTNAME</span><span class="p">(</span><span class="s">L"List"</span><span class="p">),</span>
        <span class="mi">5</span><span class="p">,</span> <span class="n">list_items</span><span class="p">,</span> <span class="n">m_list_index</span> <span class="p">);</span>
    <span class="kt">int</span> <span class="n">test_option_index</span> <span class="o">=</span> <span class="n">go</span><span class="p">.</span><span class="n">AddCommandOption</span><span class="p">(</span> <span class="n">RHCMDOPTNAME</span><span class="p">(</span><span class="s">L"Test"</span><span class="p">)</span> <span class="p">);</span>

    <span class="n">CRhinoGet</span><span class="o">::</span><span class="n">result</span> <span class="n">res</span> <span class="o">=</span> <span class="n">go</span><span class="p">.</span><span class="n">GetOption</span><span class="p">();</span>

    <span class="k">if</span><span class="p">(</span> <span class="n">res</span> <span class="o">==</span> <span class="n">CRhinoGet</span><span class="o">::</span><span class="n">nothing</span> <span class="p">)</span>
      <span class="k">break</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span> <span class="n">res</span> <span class="o">==</span> <span class="n">CRhinoGet</span><span class="o">::</span><span class="n">cancel</span> <span class="p">)</span>
      <span class="k">return</span> <span class="n">CRhinoCommand</span><span class="o">::</span><span class="n">cancel</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span> <span class="n">res</span> <span class="o">!=</span> <span class="n">CRhinoGet</span><span class="o">::</span><span class="n">option</span> <span class="p">)</span>
      <span class="k">return</span> <span class="n">CRhinoCommand</span><span class="o">::</span><span class="n">failure</span><span class="p">;</span>

    <span class="k">const</span> <span class="n">CRhinoCommandOption</span><span class="o">*</span> <span class="n">option</span> <span class="o">=</span> <span class="n">go</span><span class="p">.</span><span class="n">Option</span><span class="p">();</span>
    <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="n">option</span> <span class="p">)</span>
      <span class="k">return</span> <span class="n">CRhinoCommand</span><span class="o">::</span><span class="n">failure</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">option_index</span> <span class="o">=</span> <span class="n">option</span><span class="o">-&gt;</span><span class="n">m_option_index</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span> <span class="n">option_index</span> <span class="o">==</span> <span class="n">nval_option_index</span> <span class="p">)</span>
      <span class="k">continue</span><span class="p">;</span> <span class="c1">// nothing to do
</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">option_index</span> <span class="o">==</span> <span class="n">dval_option_index</span> <span class="p">)</span>
      <span class="k">continue</span><span class="p">;</span> <span class="c1">// nothing to do
</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">option_index</span> <span class="o">==</span> <span class="n">bval_option_index</span> <span class="p">)</span>
      <span class="k">continue</span><span class="p">;</span> <span class="c1">// nothing to do
</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">option_index</span> <span class="o">==</span> <span class="n">list_option_index</span> <span class="p">)</span>
    <span class="p">{</span>
      <span class="n">m_list_index</span> <span class="o">=</span> <span class="n">option</span><span class="o">-&gt;</span><span class="n">m_list_option_current</span><span class="p">;</span>
      <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">CRhinoCommand</span><span class="o">::</span><span class="n">success</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

        </article>

      <!--</div>-->

    </div>
</div>
</div>

        <!--/div-->
      </div>

      <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">

      
        <div class="row">
          <div class="col-md-4">
            <p class="text">Author: <a href="mailto:dale@mcneel.com">dale@mcneel.com</a></p>
          </div>
          <div class="col-md-4 text-center">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <a href="https://github.com/mcneel/developer-rhino3d-com/blob/wip/_guide_topics/cpp/adding_command_line_options.md" target="_blank">Edit page on GitHub</a>
          </div>
            <div class="col-md-4">
              <span class="pull-right">
                <span class="glyphicon glyphicon-cog"></span>&nbsp;<a href="/wip/admin">Admin</a>
              </span>
            </div>
        </div>

        <div class="row text-center">
          © 1997 - 2016 Robert McNeel &amp; Associates
        </div>

      

    </div>

  </div>

  <script>
    if (navigator.appVersion.indexOf("Win")!=-1)
    {
      var body = document.getElementsByTagName("body");
      body[0].style.fontWeight = '400';
    }
  </script>

</footer>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- MathJax -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/javascript">
    $('body').scrollspy({
        target: '.bs-docs-sidebar',
        offset: 150 /* fixed header is about 40px high */
    });
    </script>
  </body>

</html>
