<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Dynamically Inserting Blocks</title>
  <meta name="description" content="Dynamically Inserting Blocks">

  <!-- OpenGraph for Facebook, Twitter, Slack unfurling -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/guides/cpp/dynamically_inserting_blocks/" />
  <meta property="og:title" content="Dynamically Inserting Blocks" />
  <meta property="og:description" content="This guide demonstrates how to insert a block instance at a user specified location using C/C++." />
  <meta property=”og:site_name” content="developer.rhino3d.com"/>
  <meta property=”og:image” content="/wip/images/rhinodev_logo_unfurl.png"/>

  <!-- twitter card tags additive with the og: tags -->
  <meta name="twitter:domain" value="developer.rhino3d.com" />
  <meta name="twitter:title" value="Dynamically Inserting Blocks" />
  <meta name="twitter:description" value="This guide demonstrates how to insert a block instance at a user specified location using C/C++." />
  
    
      <meta name="twitter:image" content="/wip/images/rhinodev_logo_unfurl.png" />
    
  
  <meta name="twitter:url" value="http://developer.rhino3d.com" />
  
  <meta name="twitter:label1" value="Platform(s)" />
  <meta name="twitter:data1" value="Windows" />
  
  
  <meta name="twitter:label2" value="Language(s)" />
  <meta name="twitter:data2" value="C/C++" />
  

  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/github.min.css">
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/languages/vbnet.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <!-- Check the version banner for broken links and remove the link if found -->
  <!-- <script type="text/javascript" src="/script/banner_sanity.js"></script> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script>
  $.ready(function()
  {
  	var splitPath = window.location.pathname.split("/");
  	var nonWipURL = "/" + splitPath.splice(2,splitPath.length-2).join("/");

  	$.get(nonWipURL).fail(function ()
  	{
  		var $aTag = $("div.version-banner > a");
  		$aTag.remove();
  	});
  });
  </script>

  <!-- Overridden theme -->
  <link rel="stylesheet" href="/wip/css/main.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
  <!-- Bootstrap override -->
  <link rel="stylesheet" href="/wip/css/bootstrap-override.css">

  <link rel="canonical" href="http://developer.rhino3d.com/wip/guides/cpp/dynamically_inserting_blocks/">
  <link rel="alternate" type="application/rss+xml" title="Rhino Developer Docs" href="http://developer.rhino3d.com/wip/feed.xml" />

  <link rel="shortcut icon" href="http://developer.rhino3d.com/favicon.ico?v=2" />
  <!-- Saving bookmarks to mobile devices -->
  <!-- For non-Retina (@1× display) iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="/wip/images/apple-touch-icon-precomposed.png"><!-- 57×57px -->
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/wip/images/apple-touch-icon-72x72-precomposed.png">
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/wip/images/apple-touch-icon-76x76-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/wip/images/apple-touch-icon-114x114-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/wip/images/apple-touch-icon-120x120-precomposed.png">
  <!-- For iPad with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/wip/images/apple-touch-icon-144x144-precomposed.png">
  <!-- For iPad with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/wip/images/apple-touch-icon-152x152-precomposed.png">
  <!-- For iPhone 6 Plus with @3× display: -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/wip/images/apple-touch-icon-180x180-precomposed.png">
  <!-- For Chrome for Android: -->
  <link rel="icon" sizes="192x192" href="images/touch-icon-192x192.png">

  <!-- Diable crawling until this version is the stable version -->
  <meta name="robots" content="noindex" />
</head>


  <body>

    <!-- Google Tag Manager **This belongs right after the <body> tag**-->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MWMDKN"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MWMDKN');
    </script>
    <!-- End Google Tag Manager -->


    
<div class="version-banner">
    Hey, you're viewing the <strong>wip</strong> version of this page!
    <a href="/guides/cpp/dynamically_inserting_blocks/">View the current version instead.</a>
</div>



    <div class="container">

      <header class="site-header">


    <a class="site-title" href="/wip/"><img src="/wip/images/rhinodevlogo148x128.png" alt="Rhino Developer Docs" height="48" width="56"></a><a class="site-title" href="/wip/">Rhino Developer Docs</a>

    <nav class="site-nav">
      <img class="menu-icon" src="/wip/images/gi.svg">
      
      <div class="trigger">
      	<!--<a class="page-link" href="/wip/">Welcome</a>-->
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
        
          
            
              
                <a class="page-link" href="/wip/guides/">Guides</a>
              
            
          
        
          
            
              
                <a class="page-link" href="/wip/api/">API</a>
              
            
          
        
          
            
              
                <a class="page-link" href="/wip/samples/">Samples</a>
              
            
          
        
          
            
          
        
        <a class="page-link" href="http://discourse.mcneel.com/c/rhino-developer">Forums</a>
        <!-- Google Search Engine -->
        <!-- TODO Move to this site back into the Mcneel search, or use a simple site only search for results -->
        <div id="sitesearch">
            <!-- Google CSE Search Box Begins  -->
            <!-- Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
            <!-- The terms of service are available at https://www.google.com/cse/docs/tos.html -->
            <form id="cref" action="/wip/search-results.html">
                <input type="hidden" name="cref" value="007988927381198593803:mcq6pshqsn8" />
                <input id="searchtext" type="text" name="q" size="24" value="" placeholder="search" />
                <input class="searchBox" type="submit" name="sa" size="2" value=" " />
            </form>
        <!-- Google CSE Search Box Ends -->
        </div>
        <!--End of Google Search Engine -->
      </div>
    </nav>

</header>


      <div class="page-content">
        <!--div class="wrapper"-->
          <div class="container-fluid">

<div class="row-fluid">
    <!--Nav Bar -->
    <nav class="col-xs-0 col-md-3 bs-docs-sidebar">
        <ul id="sidebar" class="nav nav-stacked fixed">

          <li>
            <a href="/wip/guides/">Guides</a>

            <ul class="nav nav-stacked">

              <li>

                
                  <a href="/wip/guides/#cpp">C/C++</a>
                
                <ul class="nav nav-stacked">

                  <!-- Find the h1 handle for title -->
                  
                  
                  
                  
                  
                  
                  
                  <li>
                    <a href="#dynamically-inserting-blocks">Dynamically Inserting Blocks</a>

                    <ul class="nav nav-stacked">

                      <!-- Find the h2 group and any h3 subgroups -->
                      

                      
                        
                        
                        
                        
                        
                        <li>
                          <a href="#overview">Overview</a>

                          

                        </li>
                      
                        
                        
                        
                        
                        
                        <li>
                          <a href="#sample">Sample</a>

                          

                        </li>
                      
                        
                        
                        
                        
                        
                        <li>
                          <a href="#related-topics">Related Topics</a>

                          

                        </li>
                      

                    </ul>

                  </li>

                </ul>

              </li>

            </ul>

          </li>

        </ul>
    </nav>
    <!--Main Content -->
    <div class="col-xs-12 col-md-9">
      <!--<div class="post">-->

        <article class="post-content">
          <h1 id="dynamically-inserting-blocks">Dynamically Inserting Blocks</h1>

<p>This guide demonstrates how to insert a block instance at a user specified location using C/C++.</p>

<h2 id="overview">Overview</h2>

<p>To dynamically insert and draw blocks, you can take advantage of the new display pipeline technology, which is capable of drawing block instance definitions.  For example, the following code demonstrates how to draw a block instance definition from a <code class="highlighter-rouge">CRhinoGetPoint</code>-derived object’s DynamicDraw member…</p>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">CGetBlockInsertPoint</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CRhinoGetPoint</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CGetBlockInsertPoint</span><span class="p">(</span> <span class="k">const</span> <span class="n">CRhinoInstanceDefinition</span><span class="o">*</span> <span class="n">idef</span> <span class="p">);</span>

  <span class="c1">// CRhinoGetPoint overrides
</span>  <span class="kt">void</span> <span class="n">OnMouseMove</span><span class="p">(</span> <span class="n">CRhinoViewport</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">UINT</span><span class="p">,</span> <span class="k">const</span> <span class="n">ON_3dPoint</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">CPoint</span><span class="o">*</span> <span class="p">);</span>
  <span class="kt">void</span> <span class="n">DynamicDraw</span><span class="p">(</span> <span class="n">HDC</span><span class="p">,</span> <span class="n">CRhinoViewport</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">ON_3dPoint</span><span class="o">&amp;</span> <span class="p">);</span>

  <span class="n">bool</span> <span class="n">CalculateTransform</span><span class="p">(</span> <span class="n">CRhinoViewport</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">ON_3dPoint</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">ON_Xform</span><span class="o">&amp;</span> <span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
  <span class="k">const</span> <span class="n">CRhinoInstanceDefinition</span><span class="o">*</span> <span class="n">m_idef</span><span class="p">;</span>
  <span class="n">ON_Xform</span> <span class="n">m_xform</span><span class="p">;</span>
  <span class="n">bool</span> <span class="n">m_bDraw</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">CGetBlockInsertPoint</span><span class="o">::</span><span class="n">CGetBlockInsertPoint</span><span class="p">(</span> <span class="k">const</span> <span class="n">CRhinoInstanceDefinition</span><span class="o">*</span> <span class="n">idef</span> <span class="p">)</span>
<span class="o">:</span> <span class="n">m_idef</span><span class="p">(</span><span class="n">idef</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">m_xform</span><span class="p">.</span><span class="n">Identity</span><span class="p">();</span>
  <span class="n">m_bDraw</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">CGetBlockInsertPoint</span><span class="o">::</span><span class="n">OnMouseMove</span><span class="p">(</span>
    <span class="n">CRhinoViewport</span><span class="o">&amp;</span> <span class="n">vp</span><span class="p">,</span>
    <span class="n">UINT</span> <span class="n">flags</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">ON_3dPoint</span><span class="o">&amp;</span> <span class="n">pt</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">CPoint</span><span class="o">*</span> <span class="n">p</span>
    <span class="p">)</span>
<span class="p">{</span>
  <span class="n">m_bDraw</span> <span class="o">=</span> <span class="n">CalculateTransform</span><span class="p">(</span> <span class="n">vp</span><span class="p">,</span> <span class="n">pt</span><span class="p">,</span> <span class="n">m_xform</span> <span class="p">);</span>
  <span class="n">CRhinoGetPoint</span><span class="o">::</span><span class="n">OnMouseMove</span><span class="p">(</span> <span class="n">vp</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">pt</span><span class="p">,</span> <span class="n">p</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">CGetBlockInsertPoint</span><span class="o">::</span><span class="n">DynamicDraw</span><span class="p">(</span>
    <span class="n">HDC</span> <span class="n">hdc</span><span class="p">,</span>
    <span class="n">CRhinoViewport</span><span class="o">&amp;</span> <span class="n">vp</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">ON_3dPoint</span><span class="o">&amp;</span> <span class="n">pt</span>
    <span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">m_idef</span> <span class="o">&amp;&amp;</span> <span class="n">m_bDraw</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="n">CRhinoDisplayPipeline</span><span class="o">*</span> <span class="n">dp</span> <span class="o">=</span> <span class="n">vp</span><span class="p">.</span><span class="n">DisplayPipeline</span><span class="p">();</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">dp</span> <span class="p">)</span>
    <span class="p">{</span>
      <span class="n">dp</span><span class="o">-&gt;</span><span class="n">PushObjectColor</span><span class="p">(</span> <span class="mi">0</span> <span class="p">);</span>
      <span class="n">dp</span><span class="o">-&gt;</span><span class="n">DrawObject</span><span class="p">(</span> <span class="n">m_idef</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">m_xform</span> <span class="p">);</span>
      <span class="n">dp</span><span class="o">-&gt;</span><span class="n">PopObjectColor</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">CRhinoGetPoint</span><span class="o">::</span><span class="n">DynamicDraw</span><span class="p">(</span> <span class="n">hdc</span><span class="p">,</span> <span class="n">vp</span><span class="p">,</span> <span class="n">pt</span> <span class="p">);</span>
<span class="p">}</span>

<span class="n">bool</span> <span class="n">CGetBlockInsertPoint</span><span class="o">::</span><span class="n">CalculateTransform</span><span class="p">(</span>
    <span class="n">CRhinoViewport</span><span class="o">&amp;</span> <span class="n">vp</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">ON_3dPoint</span><span class="o">&amp;</span> <span class="n">pt</span><span class="p">,</span>
    <span class="n">ON_Xform</span><span class="o">&amp;</span> <span class="n">xform</span>
    <span class="p">)</span>
<span class="p">{</span>
  <span class="n">bool</span> <span class="n">rc</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
  <span class="n">ON_3dVector</span> <span class="n">v</span> <span class="o">=</span> <span class="n">pt</span> <span class="o">-</span> <span class="n">BasePoint</span><span class="p">();</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">IsTiny</span><span class="p">()</span> <span class="p">)</span>
    <span class="n">xform</span><span class="p">.</span><span class="n">Identity</span><span class="p">();</span>
  <span class="k">else</span>
    <span class="n">xform</span><span class="p">.</span><span class="n">Translation</span><span class="p">(</span> <span class="n">v</span> <span class="p">);</span>
  <span class="k">return</span> <span class="n">xform</span><span class="p">.</span><span class="n">IsValid</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="sample">Sample</h2>

<p>The following sample code demonstrates how to insert a block definition into the Rhino document and allow the user to interactively pick the insertion point.</p>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="n">CRhinoCommand</span><span class="o">::</span><span class="n">result</span> <span class="n">CCommandTest</span><span class="o">::</span><span class="n">RunCommand</span><span class="p">(</span> <span class="k">const</span> <span class="n">CRhinoCommandContext</span><span class="o">&amp;</span> <span class="n">context</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// Prompt for instance definition to insert
</span>  <span class="n">CRhinoGetString</span> <span class="n">gs</span><span class="p">;</span>
  <span class="n">gs</span><span class="p">.</span><span class="n">SetCommandPrompt</span><span class="p">(</span> <span class="s">L"Name of block to insert"</span> <span class="p">);</span>
  <span class="n">gs</span><span class="p">.</span><span class="n">GetString</span><span class="p">();</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">gs</span><span class="p">.</span><span class="n">CommandResult</span><span class="p">()</span> <span class="o">!=</span> <span class="n">success</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">gs</span><span class="p">.</span><span class="n">CommandResult</span><span class="p">();</span>

  <span class="n">ON_wString</span> <span class="n">idef_name</span> <span class="o">=</span> <span class="n">gs</span><span class="p">.</span><span class="n">String</span><span class="p">();</span>
  <span class="n">idef_name</span><span class="p">.</span><span class="n">TrimLeftAndRight</span><span class="p">();</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">idef_name</span><span class="p">.</span><span class="n">IsEmpty</span><span class="p">()</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">nothing</span><span class="p">;</span>

  <span class="c1">// Find specified instance definition
</span>  <span class="n">CRhinoInstanceDefinitionTable</span><span class="o">&amp;</span> <span class="n">idef_table</span> <span class="o">=</span> <span class="n">context</span><span class="p">.</span><span class="n">m_doc</span><span class="p">.</span><span class="n">m_instance_definition_table</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">idef_index</span> <span class="o">=</span> <span class="n">idef_table</span><span class="p">.</span><span class="n">FindInstanceDefinition</span><span class="p">(</span> <span class="n">idef_name</span> <span class="p">);</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">idef_index</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="n">RhinoApp</span><span class="p">().</span><span class="n">Print</span><span class="p">(</span> <span class="s">L"Unable to insert </span><span class="se">\"</span><span class="s">%s</span><span class="se">\"</span><span class="s">. Block not found.</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">idef_name</span> <span class="p">);</span>
    <span class="k">return</span> <span class="n">nothing</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Get instance definition
</span>  <span class="k">const</span> <span class="n">CRhinoInstanceDefinition</span><span class="o">*</span> <span class="n">idef</span> <span class="o">=</span> <span class="n">idef_table</span><span class="p">[</span><span class="n">idef_index</span><span class="p">];</span>
  <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="n">idef</span> <span class="o">|</span> <span class="n">idef</span><span class="o">-&gt;</span><span class="n">IsDeleted</span><span class="p">()</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">nothing</span><span class="p">;</span>

  <span class="c1">// Pick an insert point
</span>  <span class="n">CGetBlockInsertPoint</span> <span class="n">gp</span><span class="p">(</span> <span class="n">idef</span> <span class="p">);</span>
  <span class="n">gp</span><span class="p">.</span><span class="n">SetCommandPrompt</span><span class="p">(</span> <span class="s">L"Insertion point"</span> <span class="p">);</span>
  <span class="n">gp</span><span class="p">.</span><span class="n">SetBasePoint</span><span class="p">(</span> <span class="n">ON_origin</span> <span class="p">);</span>
  <span class="n">gp</span><span class="p">.</span><span class="n">GetPoint</span><span class="p">();</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">gp</span><span class="p">.</span><span class="n">CommandResult</span><span class="p">()</span> <span class="o">!=</span> <span class="n">success</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">gp</span><span class="p">.</span><span class="n">CommandResult</span><span class="p">();</span>

  <span class="c1">// Get active view
</span>  <span class="n">CRhinoView</span><span class="o">*</span> <span class="n">view</span> <span class="o">=</span> <span class="n">gp</span><span class="p">.</span><span class="n">View</span><span class="p">();</span>
  <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="n">view</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="n">view</span> <span class="o">=</span> <span class="n">RhinoApp</span><span class="p">().</span><span class="n">ActiveView</span><span class="p">();</span>
    <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="n">view</span> <span class="p">)</span>
      <span class="k">return</span> <span class="n">failure</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Calculate final xform
</span>  <span class="n">ON_Xform</span> <span class="n">xform</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">gp</span><span class="p">.</span><span class="n">CalculateTransform</span><span class="p">(</span><span class="n">view</span><span class="o">-&gt;</span><span class="n">ActiveViewport</span><span class="p">(),</span> <span class="n">gp</span><span class="p">.</span><span class="n">Point</span><span class="p">(),</span> <span class="n">xform</span><span class="p">)</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="n">idef_table</span><span class="p">.</span><span class="n">AddInstanceObject</span><span class="p">(</span> <span class="n">idef_index</span><span class="p">,</span> <span class="n">xform</span> <span class="p">);</span>
    <span class="n">context</span><span class="p">.</span><span class="n">m_doc</span><span class="p">.</span><span class="n">Redraw</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="n">success</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="related-topics">Related Topics</h2>

<ul>
  <li><a href="/wip/guides/cpp/creating_blocks">Creating Blocks</a></li>
</ul>

        </article>

      <!--</div>-->

    </div>
</div>
</div>

        <!--/div-->
      </div>

      <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">

      
        <div class="row">
          <div class="col-md-4">
            <p class="text">Author: <a href="mailto:dale@mcneel.com">dale@mcneel.com</a></p>
          </div>
          <div class="col-md-4 text-center">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <a href="https://github.com/mcneel/developer-rhino3d-com/blob/wip/_guide_topics/cpp/dynamically_inserting_blocks.md" target="_blank">Edit page on GitHub</a>
          </div>
            <div class="col-md-4">
              <span class="pull-right">
                <span class="glyphicon glyphicon-cog"></span>&nbsp;<a href="/wip/admin">Admin</a>
              </span>
            </div>
        </div>

        <div class="row text-center">
          © 1997 - 2016 Robert McNeel &amp; Associates
        </div>

      

    </div>

  </div>

  <script>
    if (navigator.appVersion.indexOf("Win")!=-1)
    {
      var body = document.getElementsByTagName("body");
      body[0].style.fontWeight = '400';
    }
  </script>

</footer>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- MathJax -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/javascript">
    $('body').scrollspy({
        target: '.bs-docs-sidebar',
        offset: 150 /* fixed header is about 40px high */
    });
    </script>
  </body>

</html>
